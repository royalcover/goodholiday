!DOCTYPE html
html lang=zh-Hant
head
    meta charset=UTF-8
    meta name=viewport content=width=device-width, initial-scale=1.0
    title百萬好禮大抽獎title
    style
        root { --primary-gold #d4af37; --deep-red #8b0000; --admin-gray #f8f9fa; }
        body { font-family Microsoft JhengHei, sans-serif; background-color #f1f2f6; padding 15px; display flex; justify-content center; }
        .card { width 100%; max-width 450px; background white; padding 25px; border-radius 20px; box-shadow 0 10px 25px rgba(0,0,0,0.1); text-align center; border-top 8px solid var(--primary-gold); }
        
        .admin-panel { background var(--admin-gray); padding 15px; border-radius 12px; margin-bottom 25px; border 1px dashed #ccc; }
        .admin-title { font-size 12px; color #888; margin-bottom 8px; }
        input[type=number] { width 120px; padding 10px; border 1px solid #ddd; border-radius 8px; font-size 16px; }
        .btn-set { background #576574; color white; border none; padding 10px 15px; border-radius 8px; margin-left 5px; }

        .chance-text { font-size 14px; color #57606f; margin-bottom 5px; }
        .chance-number { font-size 48px; font-weight 900; color var(--deep-red); margin-bottom 20px; }
        .btn-draw { width 100%; padding 18px; font-size 22px; font-weight bold; color white; background var(--deep-red); border none; border-radius 50px; cursor pointer; box-shadow 0 5px 15px rgba(139, 0, 0, 0.4); transition 0.2s; }
        .btn-drawdisabled { background #ced4da; box-shadow none; cursor not-allowed; }
        .btn-drawactive { transform scale(0.95); }

        .result-card { display none; margin-top 25px; padding 20px; border 4px double var(--primary-gold); border-radius 15px; background #fffdf0; animation popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes popIn { from { transform scale(0.8); opacity 0; } to { transform scale(1); opacity 1; } }
        .prize-name { font-size 24px; font-weight bold; color #2f3542; margin 10px 0; line-height 1.4; }
        .live-timer { font-size 13px; font-family monospace; background #2f3542; color #1ed760; padding 5px 10px; border-radius 5px; display inline-block; margin-top 10px; }
    style
head
body

div class=card
    h1 style=color var(--deep-red); margin-bottom 5px;百萬好禮h1
    p style=color var(--primary-gold); font-weight bold; margin-top 0;現場滿額盛大抽獎p

    div class=admin-panel
        div class=admin-title工作人員專用 (滿2000元抽1次)div
        input type=number id=amt placeholder=消費金額
        button class=btn-set onclick=setup()設定次數button
    div

    div class=chance-text剩餘抽獎機會div
    div id=chanceDisp class=chance-number0div

    button id=drawBtn class=btn-draw onclick=goDraw() disabled開始抽獎button

    div id=resBox class=result-card
        div style=color var(--deep-red); font-weight bold; font-size 18px;恭喜獲獎！div
        div id=pName class=prize-namediv
        div style=font-size 13px; color #57606f;核銷人員請確認下方跳動時間：div
        div id=timer class=live-timerdiv
    div

    div style=margin-top 25px; font-size 12px; color #a4b0be; line-height 1.6; text-align left; padding 0 10px;
        ※ 離開網頁或重新整理，次數將自動清零br
        ※ 每滿 2000 元獲得一次機會，以此類推br
        ※ 獎項請當場領取，截圖錄影無效
    div
div

script
    let count = 0;
    
     獎項清單與機率權重 (w 數值越高，越容易抽中)
    const POOL = [
        { n 【1】床墊乙張 (共15張), w 15 },
        { n 【2】65吋電視乙台 (共2台), w 2 },
        { n 【3】電動沙發乙台 (共4台), w 4 },
        { n 【4】石墨烯被胎乙條 (共30條), w 30 },
        { n 【5】按摩家電乙台 (共30台), w 30 },
        { n 【6】記憶床墊5公分乙張 (共20張), w 20 },
        { n 【7】舒適毛毯乙條 (共500條), w 500 },
        { n 【8】廚房紙巾乙份 (共10000份), w 10000 }
    ];

     動態防偽時鐘 (每 0.1 秒更新一次)
    setInterval(() = {
        const now = new Date();
        const ts = now.toLocaleTimeString('zh-TW', {hour12 false}) + . + Math.floor(now.getMilliseconds()100);
        document.getElementById('timer').innerText = now.toLocaleDateString() +   + ts;
    }, 100);

     防誤關提醒
    window.onbeforeunload = function() {
        if (count  0) return 您還有抽獎次數未完成，離開將歸零！;
    };

    function setup() {
        const a = document.getElementById('amt').value;
        if (!a  a  2000) return alert(消費金額不足 2000 元，無法設定次數);
        const plus = Math.floor(a  2000);
        count += plus;
        document.getElementById('amt').value = ;
        update();
        alert(成功設定  + plus +  次機會);
    }

    function goDraw() {
        if (count = 0) return;
        
         加權隨機邏輯：機率不遞減
        let total = POOL.reduce((s, p) = s + p.w, 0);
        let r = Math.random()  total;
        let win = POOL[POOL.length - 1];  預設為最後一項

        for (let p of POOL) {
            if (r  p.w) {
                win = p;
                break;
            }
            r -= p.w;
        }

        count--;
        update();
        
         顯示結果
        document.getElementById('resBox').style.display = 'block';
        document.getElementById('pName').innerText = win.n;
    }

    function update() {
        document.getElementById('chanceDisp').innerText = count;
        document.getElementById('drawBtn').disabled = (count = 0);
         點擊後重新更新結果顯示
        if(count = 0) {
             如果次數歸零，不主動隱藏最後一次的結果，讓店員確認
        }
    }
script

body
html